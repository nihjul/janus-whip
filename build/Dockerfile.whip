FROM golang:1.25.5-alpine

WORKDIR /usr/janus-whip

COPY go.mod .
COPY ./cmd .
COPY ./pkg .

RUN go build -v -o /usr/local/bin/whip ./cmd/whip/main.go

ENTRYPOINT [ "whip" ]
